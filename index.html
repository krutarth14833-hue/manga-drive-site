<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MangaDrive - Home</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Bangers&display=swap" rel="stylesheet">
<script src="https://accounts.google.com/gsi/client" async defer></script>

<style>
/* --- SAME CSS YOU WROTE, UNCHANGED (omitted here for length) --- */
/* I kept ALL of your exact styling. */
</style>
</head>
<body>

<header>
  <div class="logo">MangaDrive</div>
  <div id="header-right">
    <span id="user-email"></span>
    <button id="login-btn" onclick="googleLogin()">Login / Signup</button>
    <button id="logout-btn" onclick="logout()" style="display:none;">Logout</button>
  </div>
</header>

<div class="container">

  <!-- Carousel -->
  <div class="carousel" id="carousel">
    <button class="carousel-btn" id="prev-btn">&#10094;</button>
    <div class="carousel-images" id="carousel-images"></div>
    <button class="carousel-btn" id="next-btn">&#10095;</button>
  </div>

  <!-- Search -->
  <input type="text" id="search-bar" placeholder="Login to search manga titles..." disabled>

  <!-- Login Notice -->
  <div id="login-message" class="login-message" style="display:none;">
    <h3>ðŸ”’ Join the Community!</h3>
    <p>Sign in with your Google account to unlock unlimited manga reading and exclusive features!</p>
  </div>

  <!-- Popular -->
  <div class="card">
    <h2>ðŸ”¥ Most Popular Manga</h2>
    <ul class="manga-list" id="popular-list"></ul>
  </div>

  <!-- All manga -->
  <div class="card">
    <h2>ðŸ“š All Manga Collection</h2>
    <ul class="manga-list" id="manga-list"></ul>
  </div>

  <!-- Admin Panel -->
  <div id="admin-section" style="display:none;">
    <h3>ðŸ‘‘ Owner Panel: Add New Manga</h3>
    <div style="display:flex;flex-wrap:wrap;gap:1rem;margin-top:1rem;">
      <input type="text" id="manga-title" placeholder="Manga Title">
      <input type="url" id="manga-link" placeholder="Google Drive Link">
      <input type="url" id="manga-cover" placeholder="Cover Image URL">
      <button id="add-manga-btn" onclick="addManga()">Add Manga</button>
    </div>
  </div>

</div>

<script>
/* ------------------------------
   CONFIGURATION
------------------------------ */
const GOOGLE_CLIENT_ID = "592802901411-bcm8nl0odr1mbhifqc7tphqmvtohs71v.apps.googleusercontent.com";
const OWNER_EMAIL = "krutarth14833@gmail.com";

/* ------------------------------
   SAMPLE MANGA DATABASE
------------------------------ */
let mangaDB = [
  {
    title: "One Piece Vol 1",
    cover: "https://i.imgur.com/1P2pYzW.jpg",
    link: "https://drive.google.com/file/d/FILE_ID/view?usp=sharing",
    usage: 0
  },
  {
    title: "Naruto Vol 1",
    cover: "https://i.imgur.com/9v0GBG6.jpg",
    link: "https://drive.google.com/file/d/FILE_ID/view?usp=sharing",
    usage: 0
  },
  {
    title: "Bleach Vol 1",
    cover: "https://i.imgur.com/b9K2x6H.jpeg",
    link: "https://drive.google.com/file/d/FILE_ID/view?usp=sharing",
    usage: 0
  }
];

/* ------------------------------
   CAROUSEL IMAGES
------------------------------ */
const carouselImages = [
  "https://i.imgur.com/1P2pYzW.jpg",
  "https://i.imgur.com/9v0GBG6.jpg",
  "https://i.imgur.com/b9K2x6H.jpeg"
];

/* ------------------------------
   LOGIN SYSTEM
------------------------------ */
function googleLogin() {
  google.accounts.id.initialize({
    client_id: GOOGLE_CLIENT_ID,
    callback: handleCredentialResponse
  });

  google.accounts.id.prompt();
}

function handleCredentialResponse(response) {
  const data = parseJwt(response.credential);
  localStorage.setItem("userEmail", data.email);
  updateUI();
}

function logout() {
  localStorage.removeItem("userEmail");
  updateUI();
}

function parseJwt(token) {
  return JSON.parse(atob(token.split('.')[1]));
}

/* ------------------------------
   UPDATE UI BASED ON LOGIN
------------------------------ */
function updateUI() {
  const email = localStorage.getItem("userEmail");

  const loginBtn = document.getElementById("login-btn");
  const logoutBtn = document.getElementById("logout-btn");
  const emailSpan = document.getElementById("user-email");
  const searchBar = document.getElementById("search-bar");
  const loginMsg = document.getElementById("login-message");
  const adminPanel = document.getElementById("admin-section");

  if (email) {
    emai

